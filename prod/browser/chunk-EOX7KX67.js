import{a as T,b as c,c as w,d as N,e as q,f as v,g as M,h as k,i as P,j as z}from"./chunk-I2T2LWA7.js";import{a as V}from"./chunk-V24RKNYN.js";import{$ as d,C as h,D as x,Ha as I,J as y,Ja as O,K as b,Oa as A,R as l,S as C,Ta as B,Z as p,ca as i,da as t,ea as f,fa as D,ha as S,ia as s,qa as m,y as g}from"./chunk-OPIRWY2I.js";function R(e,u){e&1&&(i(0,"div",32),m(1," \u041F\u043E\u043B\u0435 \xAB\u0418\u043C\u044F\xBB \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F. "),t())}function H(e,u){e&1&&(i(0,"div",32),m(1," \u041F\u043E\u043B\u0435 \xAB\u0418\u043C\u044F\xBB \u0434\u043E\u043B\u0436\u043D\u043E \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 \u0437\u0430\u0433\u043B\u0430\u0432\u043D\u043E\u0439 \u0431\u0443\u043A\u0432\u044B \u0438 \u0441\u043E\u0441\u0442\u043E\u044F\u0442\u044C \u0438\u0437 \u0431\u0443\u043A\u0432 \u0440\u0443\u0441\u0441\u043A\u043E\u0433\u043E \u0430\u043B\u0444\u0430\u0432\u0438\u0442\u0430 "),t())}function J(e,u){if(e&1&&(i(0,"div"),p(1,R,2,0,"div",30)(2,H,2,0,"div",31),t()),e&2){let r,n,o=s(3);l(),d("ngIf",(r=o.orderForm.get("name"))==null||r.errors==null?null:r.errors.required),l(),d("ngIf",(n=o.orderForm.get("name"))==null||n.errors==null?null:n.errors.pattern)}}function K(e,u){e&1&&(i(0,"div",32),m(1," \u041F\u043E\u043B\u0435 \xAB\u0424\u0430\u043C\u0438\u043B\u0438\u044F\xBB \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F. "),t())}function L(e,u){e&1&&(i(0,"div",32),m(1," \u041F\u043E\u043B\u0435 \xAB\u0424\u0430\u043C\u0438\u043B\u0438\u044F\xBB \u0434\u043E\u043B\u0436\u043D\u043E \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 \u0437\u0430\u0433\u043B\u0430\u0432\u043D\u043E\u0439 \u0431\u0443\u043A\u0432\u044B \u0438 \u0441\u043E\u0441\u0442\u043E\u044F\u0442\u044C \u0438\u0437 \u0431\u0443\u043A\u0432 \u0440\u0443\u0441\u0441\u043A\u043E\u0433\u043E \u0430\u043B\u0444\u0430\u0432\u0438\u0442\u0430 "),t())}function Q(e,u){if(e&1&&(i(0,"div"),p(1,K,2,0,"div",30)(2,L,2,0,"div",30),t()),e&2){let r,n,o=s(3);l(),d("ngIf",(r=o.orderForm.get("last_name"))==null||r.errors==null?null:r.errors.required),l(),d("ngIf",(n=o.orderForm.get("last_name"))==null||n.errors==null?null:n.errors.pattern)}}function U(e,u){e&1&&(i(0,"div",32),m(1," \u041F\u043E\u043B\u0435 \xAB\u0422\u0435\u043B\u0435\u0444\u043E\u043D\xBB \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F. "),t())}function W(e,u){e&1&&(i(0,"div",32),m(1," \u041F\u043E\u043B\u0435 \xAB\u0422\u0435\u043B\u0435\u0444\u043E\u043D\xBB \u0434\u043E\u043B\u0436\u043D\u043E \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C 11 \u0446\u0438\u0444\u0440 "),t())}function X(e,u){if(e&1&&(i(0,"div"),p(1,U,2,0,"div",30)(2,W,2,0,"div",30),t()),e&2){let r,n,o=s(3);l(),d("ngIf",(r=o.orderForm.get("phone"))==null||r.errors==null?null:r.errors.required),l(),d("ngIf",(n=o.orderForm.get("phone"))==null||n.errors==null?null:n.errors.pattern)}}function Y(e,u){e&1&&(i(0,"div",32),m(1," \u041F\u043E\u043B\u0435 \xAB\u0421\u0442\u0440\u0430\u043D\u0430\xBB \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F. "),t())}function Z(e,u){if(e&1&&(i(0,"div"),p(1,Y,2,0,"div",30),t()),e&2){let r,n=s(3);l(),d("ngIf",(r=n.orderForm.get("country"))==null||r.errors==null?null:r.errors.required)}}function e0(e,u){e&1&&(i(0,"div",32),m(1," \u041F\u043E\u043B\u0435 \xAB\u0418\u043D\u0434\u0435\u043A\u0441\xBB \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F. "),t())}function u0(e,u){if(e&1&&(i(0,"div"),p(1,e0,2,0,"div",30),t()),e&2){let r,n=s(3);l(),d("ngIf",(r=n.orderForm.get("zip"))==null||r.errors==null?null:r.errors.required)}}function t0(e,u){e&1&&(i(0,"div",32),m(1," \u041F\u043E\u043B\u0435 \xAB\u0410\u0434\u0440\u0435\u0441\xBB \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F. "),t())}function n0(e,u){e&1&&(i(0,"div",32),m(1," \u0412 \u043F\u043E\u043B\u0435 \xAB\u0410\u0434\u0440\u0435\u0441\xBB \u043C\u043E\u0436\u043D\u043E \u0432\u0432\u043E\u0434\u0438\u0442\u044C: \u0431\u0443\u043A\u0432\u044B, \u0446\u0438\u0444\u0440\u044B, \u043F\u0440\u043E\u0431\u0435\u043B\u044B, \u0434\u0435\u0444\u0438\u0441 \u0438 \u0441\u043B\u0435\u0448 "),t())}function r0(e,u){if(e&1&&(i(0,"div"),p(1,t0,2,0,"div",30)(2,n0,2,0,"div",31),t()),e&2){let r,n,o=s(3);l(),d("ngIf",(r=o.orderForm.get("address"))==null||r.errors==null?null:r.errors.required),l(),d("ngIf",(n=o.orderForm.get("address"))==null||n.errors==null?null:n.errors.pattern)}}function i0(e,u){if(e&1&&(i(0,"div",28),p(1,J,3,2,"div",29)(2,Q,3,2,"div",29)(3,X,3,2,"div",29)(4,Z,2,1,"div",29)(5,u0,2,1,"div",29)(6,r0,3,2,"div",29),t()),e&2){let r,n,o,_,E,F,a=s(2);l(),d("ngIf",((r=a.orderForm.get("name"))==null?null:r.invalid)&&(((r=a.orderForm.get("name"))==null?null:r.touched)||((r=a.orderForm.get("name"))==null?null:r.dirty))),l(),d("ngIf",((n=a.orderForm.get("last_name"))==null?null:n.invalid)&&(((n=a.orderForm.get("last_name"))==null?null:n.touched)||((n=a.orderForm.get("last_name"))==null?null:n.dirty))),l(),d("ngIf",((o=a.orderForm.get("phone"))==null?null:o.invalid)&&(((o=a.orderForm.get("phone"))==null?null:o.touched)||((o=a.orderForm.get("phone"))==null?null:o.dirty))),l(),d("ngIf",((_=a.orderForm.get("country"))==null?null:_.invalid)&&(((_=a.orderForm.get("country"))==null?null:_.touched)||((_=a.orderForm.get("country"))==null?null:_.dirty))),l(),d("ngIf",((E=a.orderForm.get("zip"))==null?null:E.invalid)&&(((E=a.orderForm.get("zip"))==null?null:E.touched)||((E=a.orderForm.get("zip"))==null?null:E.dirty))),l(),d("ngIf",((F=a.orderForm.get("address"))==null?null:F.invalid)&&(((F=a.orderForm.get("address"))==null?null:F.touched)||((F=a.orderForm.get("address"))==null?null:F.dirty)))}}function o0(e,u){e&1&&(i(0,"span",33),m(1,"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),t())}function l0(e,u){if(e&1){let r=D();i(0,"section",3)(1,"h2",4),m(2,"\u0421\u0434\u0435\u043B\u0430\u0442\u044C \u0437\u0430\u043A\u0430\u0437"),t(),i(3,"form",5),S("ngSubmit",function(){y(r);let o=s();return b(o.makeOrder())}),i(4,"div",6)(5,"div",7)(6,"label",8),m(7,"\u0422\u043E\u0432\u0430\u0440"),t(),f(8,"input",9),t(),i(9,"div",10)(10,"label",11),m(11,"\u0418\u043C\u044F"),t(),f(12,"input",12),t(),i(13,"div",10)(14,"label",13),m(15,"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"),t(),f(16,"input",14),t(),i(17,"div",10)(18,"label",15),m(19,"\u0422\u0435\u043B\u0435\u0444\u043E\u043D"),t(),f(20,"input",16),t(),i(21,"div",17)(22,"label",18),m(23,"\u0421\u0442\u0440\u0430\u043D\u0430"),t(),f(24,"input",19),t(),i(25,"div",17)(26,"label",8),m(27,"\u0418\u043D\u0434\u0435\u043A\u0441"),t(),f(28,"input",20),t(),i(29,"div",7)(30,"label",21),m(31,"\u0410\u0434\u0440\u0435\u0441"),t(),f(32,"input",22),t(),i(33,"div",7)(34,"label",8),m(35,"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u043A \u0437\u0430\u043A\u0430\u0437\u0443"),t(),f(36,"input",23),t(),i(37,"div",24)(38,"button",25),m(39," \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C "),t(),p(40,i0,7,6,"div",26)(41,o0,2,0,"span",27),t()()()()}if(e&2){let r=s();l(3),d("formGroup",r.orderForm),l(35),d("disabled",!r.orderForm.valid),l(2),d("ngIf",!r.orderForm.valid||r.isError),l(),d("ngIf",r.isError)}}function d0(e,u){e&1&&(i(0,"h2",34),m(1,"\u0421\u043F\u0430\u0441\u0438\u0431\u043E \u0437\u0430 \u0437\u0430\u043A\u0430\u0437"),t())}var G=(()=>{let u=class u{constructor(n,o){this.route=n,this.productService=o,this.orderForm=new q({name:new v("",[c.required,c.pattern(/^[А-Я][а-яё]*$/i)]),last_name:new v("",[c.required,c.pattern(/^[А-Я][а-яё]*$/i)]),phone:new v("",[c.required,c.pattern(/^[+]?\d{11}$/)]),country:new v("",[c.required]),zip:new v("",[c.required]),product:new v({value:"",disabled:!0},[c.required]),address:new v("",[c.required,c.pattern(/^(?!\s*$)[-\/, 0-9а-яА-Я]+$/)]),comment:new v("")}),this.isComplete=!1,this.isError=!1}ngOnInit(){let n=this.route.snapshot.queryParamMap.get("product");n&&this.orderForm.patchValue({product:n})}makeOrder(){this.orderForm.valid&&(this.subscription=this.productService.makeOrder({name:this.orderForm.value.name,last_name:this.orderForm.value.last_name,phone:this.orderForm.value.phone,country:this.orderForm.value.country,zip:this.orderForm.value.zip,product:this.orderForm.getRawValue().product,address:this.orderForm.value.address,comment:this.orderForm.value.comment}).subscribe(n=>{console.log(n),n.success?this.isComplete=!0:this.isError=!0}))}ngOnDestroy(){this.subscription?.unsubscribe()}};u.\u0275fac=function(o){return new(o||u)(C(A),C(V))},u.\u0275cmp=h({type:u,selectors:[["app-order"]],decls:4,vars:2,consts:[[1,"container"],["class","d-flex flex-column align-items-center py-4 mb-4",4,"ngIf"],["class","fw-bold lh-1 mb-5 text-success text-center",4,"ngIf"],[1,"d-flex","flex-column","align-items-center","py-4","mb-4"],["id","order-h",1,"fw-bold","lh-1","mb-5"],["id","form",1,"row","gy-3","mt-2",3,"ngSubmit","formGroup"],[1,"row","col-12","col-md-6","offset-md-3"],[1,"col-12"],["for","index",1,"form-label"],["name","product","formControlName","product","type","text","id","product",1,"form-control"],[1,"col-12","col-md-4"],["for","name",1,"form-label"],["name","name","formControlName","name","type","text","id","name",1,"form-control"],["for","surname",1,"form-label"],["name","surname","formControlName","last_name","type","text","id","surname",1,"form-control"],["for","phone",1,"form-label"],["name","phone","formControlName","phone","type","tel","id","phone",1,"form-control"],[1,"col-12","col-sm-6"],["for","country",1,"form-label"],["name","country","formControlName","country","type","text","id","country",1,"form-control"],["name","index","formControlName","zip","type","text","id","index",1,"form-control"],["for","address",1,"form-label"],["name","address","formControlName","address","type","text","id","address",1,"form-control"],["name","comment","formControlName","comment","type","text","id","comment",1,"form-control"],[1,"col-12","mt-4"],["id","submit","type","submit",1,"btn","btn-primary","hvr-curl-bottom-left","col-4",3,"disabled"],["class","errors d-inline-block ms-3",4,"ngIf"],["class","ms-2 text-danger",4,"ngIf"],[1,"errors","d-inline-block","ms-3"],[4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["class","invalid-feedback ",4,"ngIf"],[1,"invalid-feedback"],[1,"ms-2","text-danger"],[1,"fw-bold","lh-1","mb-5","text-success","text-center"]],template:function(o,_){o&1&&(i(0,"main")(1,"div",0),p(2,l0,42,4,"section",1)(3,d0,2,0,"h2",2),t()()),o&2&&(l(2),d("ngIf",!_.isComplete),l(),d("ngIf",_.isComplete))},dependencies:[I,M,T,w,N,k,P],styles:["main[_ngcontent-%COMP%]{height:calc(100vh - 150px)}input.ng-invalid.ng-dirty[_ngcontent-%COMP%], input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}input.ng-valid.ng-dirty[_ngcontent-%COMP%], input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:green}.invalid-feedback[_ngcontent-%COMP%]{display:block}"]});let e=u;return e})();var m0=[{path:"",component:G}],$=(()=>{let u=class u{};u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=x({type:u}),u.\u0275inj=g({imports:[B.forChild(m0),B]});let e=u;return e})();var y0=(()=>{let u=class u{};u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=x({type:u}),u.\u0275inj=g({imports:[O,z,$]});let e=u;return e})();export{y0 as OrderModule};
